document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("loading-screen"),t=document.getElementById("progress-bar"),n=document.getElementById("terminal-content"),s=document.getElementById("command-input"),a=document.getElementById("welcome-screen"),i=document.querySelectorAll(".output-container"),l=document.getElementById("mobile-menu-btn"),o=document.getElementById("mobile-menu"),c=document.getElementById("mobile-menu-close"),r=document.querySelectorAll(".mobile-links a"),d=document.getElementById("terminal-output-container"),u=document.getElementById("available-commands");l.addEventListener("click",(()=>{o.classList.add("active")})),c.addEventListener("click",(()=>{o.classList.remove("active")})),r.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();y(e.getAttribute("data-command")),o.classList.remove("active")}))}));let m=0;const p=setInterval((()=>{m>=100?(clearInterval(p),setTimeout((()=>{e.style.opacity="0",e.style.visibility="hidden"}),500),setTimeout((()=>{n.style.display="flex",s.focus()}),1e3)):(m+=5,t.style.width=m+"%")}),150);function y(e){switch(i.forEach((e=>{e.style.display="none"})),a.style.display="none",document.querySelectorAll(".dynamic-output").forEach((e=>e.remove())),e.toLowerCase()){case"help":a.style.display="flex",u.style.display="block";break;case"whoami":document.getElementById("about-output").style.display="block";break;case"education":document.getElementById("education-output").style.display="block";break;case"publication":document.getElementById("publication-output").style.display="block";break;case"skills":document.getElementById("skills-output").style.display="block";break;case"projects":document.getElementById("projects-output").style.display="block";break;case"contact":document.getElementById("contact-output").style.display="block";break;case"resume":document.getElementById("resume-output").style.display="block";break;case"sudo hire_me":const t=document.createElement("div");t.classList.add("sudo-effect"),t.innerHTML='\n        <div class="sudo-message">\n            <i class="fas fa-user-shield"></i>\n            <h2>Access Granted</h2>\n            <p>You have root privileges to hire this cybersecurity expert.</p>\n\n            <div class="contact-info">\n                <div class="contact-item">\n                    <p><strong>Email:</strong> <a href="mailto:sonineelp@hotmail.com" style="color: var(--terminal-sudo);">sonineelp@hotmail.com</a></p>\n                </div>\n            </div>\n\n            <button class="sudo-close">Close</button>\n        </div>\n    ',document.body.appendChild(t),setTimeout((()=>{t.classList.add("active")}),10),t.querySelector(".sudo-close").addEventListener("click",(()=>{t.classList.remove("active"),setTimeout((()=>{t.remove()}),500)}));break;case"scan_system":const n=document.createElement("div");n.classList.add("output-container","dynamic-output"),n.style.display="block",n.innerHTML='\n                    <div class="output-content">\n                        <h3 class="section-title"><i class="fas fa-shield-virus"></i> System Vulnerability Scan</h3>\n                        <p>Scanning your system for security vulnerabilities...</p>\n\n                        <div class="scan-progress" style="margin: 20px 0; height: 5px; background: rgba(119, 141, 169, 0.3); border-radius: 5px; overflow: hidden;">\n                            <div class="scan-progress-bar" style="height: 100%; width: 0%; background: var(--terminal-accent); transition: width 3s;"></div>\n                        </div>\n\n                        <div class="scan-results" style="display: none; margin-top: 30px;">\n                            <h4>Scan Results:</h4>\n                            <div style="margin: 15px 0; padding: 15px; background: rgba(119, 141, 169, 0.2); border-radius: 5px;">\n                                <p><i class="fas fa-check-circle" style="color: var(--terminal-success);"></i> Network Security: <strong>Secure</strong> - No vulnerabilities detected</p>\n                                <p><i class="fas fa-check-circle" style="color: var(--terminal-success);"></i> Firewall Configuration: <strong>Optimal</strong></p>\n                                <p><i class="fas fa-exclamation-triangle" style="color: var(--terminal-warning);"></i> Software Updates: <strong>3 updates available</strong></p>\n                                <p><i class="fas fa-check-circle" style="color: var(--terminal-success);"></i> Encryption: <strong>Enabled</strong></p>\n                                <p><i class="fas fa-times-circle" style="color: var(--terminal-error);"></i> Password Strength: <strong>Weak - Recommendation: Enable 2FA</strong></p>\n                            </div>\n\n                            <div style="margin-top: 20px; padding: 15px; background: rgba(27, 38, 59, 0.5); border-radius: 5px; border-left: 4px solid var(--terminal-accent);">\n                                <h4>Security Recommendations:</h4>\n                                <p>1. Enable multi-factor authentication on all critical systems</p>\n                                <p>2. Apply pending software updates within 24 hours</p>\n                                <p>3. Conduct regular penetration testing</p>\n                                <p>4. Implement security awareness training for employees</p>\n                            </div>\n\n                            <p style="margin-top: 20px; text-align: center;">\n                                <i class="fas fa-user-shield" style="color: var(--terminal-accent);"></i> \n                                Need help improving your security posture? <br> <strong>Contact me for a professional security assessment.</strong>\n                            </p>\n                        </div>\n                    </div>\n                ',d.appendChild(n),setTimeout((()=>{n.querySelector(".scan-progress-bar").style.width="100%"}),100),setTimeout((()=>{n.querySelector(".scan-results").style.display="block"}),3200);break;case"clear":a.style.display="flex",u.style.display="none";break;default:const s=document.createElement("div");s.classList.add("output-content","dynamic-output"),s.innerHTML=`\n                    <p style="color: var(--terminal-error);">\n                        <i class="fas fa-exclamation-circle"></i> Command not found: ${e}\n                    </p>\n                    <p>Type 'help' to see available commands</p>\n                `,d.appendChild(s)}d.scrollTop=d.scrollHeight}i.forEach((e=>{e.style.display="none"})),u.style.display="none",s.addEventListener("keydown",(function(e){if("Enter"===e.key){const e=this.value.trim();if(this.value="",""===e)return;y(e)}})),document.querySelector(".close-btn")?.addEventListener("click",(function(){document.body.innerHTML='<div style="display:flex;justify-content:center;align-items:center;height:100vh;background:#0d1b2a;color:#e0e1dd;font-family:monospace;">Connection terminated. Refresh to restart.</div>'})),document.querySelector(".minimize-btn")?.addEventListener("click",(function(){alert("Minimize functionality would be implemented in a desktop application.")})),document.querySelector(".maximize-btn")?.addEventListener("click",(function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()}))}));